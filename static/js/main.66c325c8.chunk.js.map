{"version":3,"sources":["assets/makrwatchLogo.png","components/SearchBox/SearchBox.styled.tsx","mocks/index.tsx","components/SearchBox/SearchBox.tsx","services/ApiClient.tsx","components/VideoList/components/Video/Video.styled.tsx","components/VideoList/components/Video/Video.tsx","components/VideoList/components/Loader/Loader.styled.tsx","components/VideoList/components/Loader/Loader.tsx","components/VideoList/components/NotFound/NotFound.styled.tsx","components/VideoList/components/NotFound/NotFound.tsx","components/VideoList/VideoList.styled.tsx","components/VideoList/VideoList.tsx","components/App.tsx","index.tsx"],"names":["SearchWrapper","styled","div","Logo","img","Form","form","Input","input","Button","button","MagnifyingGlass","span","ui","placeholder","result","maxPagination","notFound","failReq","SearchBox","history","useHistory","src","MakrwatchLogo","onSubmit","event","preventDefault","keyword","target","elements","value","push","ApiClient","_url","this","process","page","_fetchData","data","path","fetch","res","json","console","error","VideoWrapper","a","Thumbnail","InfoWrapper","Title","h1","Channel","p","ViewsWrapper","Views","ViewsLabel","Description","Published","Video","title","channelTitle","viewCount","description","thumbnail","videoUrl","publishedAt","href","width","alt","parseInt","toLocaleString","moment","Date","parse","fromNow","LoaderWrapper","LoaderIcon","withStyles","root","color","CircularProgress","Loader","Wrapper","Message","NotFound","err","client","VideoList","useParams","nextPage","useRef","videos","useState","setMaxPagination","load","setLoad","setErr","useEffect","getSearchResults","current","then","errCode","concat","nextPageToken","catch","onScroll","ev","scrollHeight","scrollTop","clientHeight","map","video","length","App","basename","exact","component","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66c325c8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/makrwatchLogo.64b80345.png\";","import styled from 'styled-components';\n\nexport const SearchWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 134px;\n`;\n\nexport const Logo = styled.img`\n    width: 333px;\n`;\n\nexport const Form = styled.form`\n    width: 675px;\n    height: 45px;\n    display: flex;\n    margin-top: 28px;\n`;\n\nexport const Input = styled.input`\n    width: 625px;\n    height: 45px;\n    border-radius: 5px 0 0 5px;\n    border: 1px solid #DCE0E0;\n    border-right: none;\n    padding-left: 18px;\n    font-family: Helvetica Neue;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 400;\n    color: #BBBBBB;\n    &:focus {\n        outline: none;\n    }\n\n`;\n\nexport const Button = styled.button`\n    width: 48px;\n    height: 49px;\n    border-radius: 0 5px 5px 0;\n    border: none;\n    background-color: #68BFCD;\n    color: white;\n`;\n\nexport const MagnifyingGlass = styled.span`\n    position:relative;\n    display:inline-block;\n    border-radius: 30px;\n    height: 18px;\n    width: 18px;\n    border: 1px solid #fff;\n    &:after {\n        content: \"\";\n        height: 1px;\n        width: 7px;\n        background: #fff;\n        position:absolute;\n        top:18px;\n        left:15px;\n        -webkit-transform: rotate(45deg);\n         -moz-transform: rotate(45deg);\n          -ms-transform: rotate(45deg);\n           -o-transform: rotate(45deg);\n      }\n`;","export const ui = {\n    search: {\n        placeholder: 'Search topics on the videos you want to find'\n    },\n    videos: {\n        result: 'Search Results for',\n        maxPagination: 20,\n    },\n    error: {\n        notFound: 'Not results found, try with another keyword.',\n        failReq: 'Failed to fecth results. Error code',\n    }\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport MakrwatchLogo from '../../assets/makrwatchLogo.png';\nimport { SearchWrapper, Logo, Form, Input, Button, MagnifyingGlass } from './SearchBox.styled';\nimport { ui } from '../../mocks';\n\nconst SearchBox: React.FC = () => {\n\n    const history = useHistory();\n\n    const search = (event: any) => {\n        event.preventDefault();\n        const keyword = event.target.elements[0].value;\n        history.push(`/results/${keyword}`);\n    }\n\n    return (\n        <SearchWrapper>\n            <Logo src={MakrwatchLogo} />\n            <Form\n                onSubmit={search}\n            >\n                <Input\n                    placeholder={ui.search.placeholder}\n                />\n                <Button>\n                    <MagnifyingGlass/>\n                </Button>\n            </Form>\n        </SearchWrapper>\n    );\n}\n\nexport default SearchBox;\n","import { SearchResults } from '../models';\n\nclass ApiClient {\n\n  constructor() {\n    this._url = `${process.env.REACT_APP_BACKEND_URL}`;\n  }\n\n  public async getSearchResults(keyword: string, page = ''): Promise<SearchResults> {\n    const data = await this._fetchData(keyword, page);\n    return data;\n  }\n\n  private _url: string;\n\n  private async _fetchData(keyword: string, page: string): Promise<any> {\n    let path = page\n      ? `api/search?keyword=${keyword}&page=${page}`\n      : `api/search?keyword=${keyword}`;\n\n    try {\n      const res = await fetch(`${this._url}/${path}`)\n      const data = await res.json();\n      return data;\n    } catch (err){\n      console.error(err);\n    }\n  }\n}\n\nexport default ApiClient;\n","import styled from 'styled-components';\n\nexport const VideoWrapper = styled.a`\n    display: flex;\n    flex-direction: row;\n    margin: 7px 40px;\n    padding: 7px;\n    text-decoration: none;\n    border-radius: 4px;\n    position: relative;\n    &:hover {\n        background-color: #e8e8e8;\n    }\n`;\n\nexport const Thumbnail = styled.img`\n    height: 135px;\n    width: 240px;\n`;\n\nexport const InfoWrapper = styled.div`\n    margin-left: 14px;\n    width: 600px;\n    height: 135px;\n`;\n\nexport const Title = styled.h1`\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    margin: 0px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #465870;\n`;\n\nexport const Channel = styled.p`\n    margin: 3px 0 0 0;\n    padding: 3px 0;\n    font-family: Helvetica Neue;\n    font-size: 12px;\n    font-weight: 400;\n    color: #8D9798;\n`;\n\nexport const ViewsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    padding: 3px 0 15px 0;\n`;\n\n\nexport const Views = styled.p`\n    margin: 0 10px 0 0;\n    font-family: Georgia;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 700;\n    text-align: right;\n    color: #E73E48;\n`;\n\nexport const ViewsLabel = styled.p`\n    margin: 0px;\n    font-family: Helvetica Neue;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    text-align: left;\n    color: #8D9798;\n`;\n\nexport const Description = styled.p`\n    font-family: OpenSans;\n    font-size: 12px;\n    letter-spacing: 0px;\n    line-height: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    color: #8D9798;\n    margin-top: 0px;\n`;\n\nexport const Published = styled.p`\n    font-family: Helvetica Neue;\n    font-size: 12px;\n    color: #8D9798;\n    position: absolute;\n    bottom: 7px;\n    margin: 0px;\n`; ","import React from 'react';\nimport moment from 'moment';\n\nimport { VideoData } from '../../../../models';\nimport {\n    Thumbnail,\n    InfoWrapper,\n    VideoWrapper,\n    Title,\n    Channel,\n    ViewsWrapper,\n    ViewsLabel,\n    Views,\n    Description,\n    Published,\n} from './Video.styled';\n\nconst Video: React.FC<VideoData> = ({\n    title,\n    channelTitle,\n    viewCount,\n    description,\n    thumbnail,\n    videoUrl,\n    publishedAt,\n}: VideoData) => {\n\n    return (\n        <VideoWrapper href={videoUrl} target='_blank'>\n            <Thumbnail src={thumbnail} width={320} alt='thumbnail' />\n            <InfoWrapper>\n                <Title>{title}</Title>\n                <Channel>{channelTitle}</Channel>\n                <ViewsWrapper>\n                    <Views>{parseInt(viewCount).toLocaleString('en-US')}</Views>\n                    <ViewsLabel>Views</ViewsLabel>\n                </ViewsWrapper>\n                <Description>{description}</Description>\n                <Published>{moment(Date.parse(publishedAt)).fromNow()}</Published>\n            </InfoWrapper>\n        </VideoWrapper>\n    );\n}\n\nexport default Video;\n","import styled from 'styled-components';\n\nexport const LoaderWrapper = styled.div`\n    display: flex;\n    justify-content: center;\n    padding: 25px;\n`;\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { LoaderWrapper } from './Loader.styled';\n\nconst LoaderIcon = withStyles(() => ({\n  root: {\n    color: '#68BFCD',\n    width: '100%'\n  }\n}))(CircularProgress);\n\nconst Loader: React.FC = () => {\n    return (\n        <LoaderWrapper>\n            <LoaderIcon/>\n        </LoaderWrapper>\n    );\n}\n\nexport default Loader;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    margin-top: 100px;\n    text-align: center\n`;\n\nexport const Message = styled.h1`\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    letter-spacing: 0px;\n    color: #E73E48;\n\n`;\n","import React from 'react';\n\nimport { Wrapper, Message } from './NotFound.styled';\nimport { ui } from '../../../../mocks';\n\ninterface NotFoundProps {\n    err?: string;\n}\n\nconst NotFound: React.FC<NotFoundProps> = ({ err }: NotFoundProps) => {\n    return (\n        <Wrapper>\n            <Message>{err ? `${ui.error.failReq} ${err}` : ui.error.notFound}</Message>\n        </Wrapper>\n    );\n};\n\nexport default NotFound;\n","import styled from 'styled-components';\n\nexport const Title = styled.h1`\n    font-family: Helvetica Neue;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 400;\n    margin: 29px 47px;\n`;\n\nexport const Wrapper = styled.div`\n    overflow-y: scroll;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n`;","import React, { useState, useEffect, useRef, UIEvent } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport ApiClient from '../../services/ApiClient';\nimport { VideoData, KeywordParam } from '../../models';\nimport { Video, Loader, NotFound } from './components';\nimport { Title, Wrapper } from './VideoList.styled';\nimport { ui } from '../../mocks';\n\nconst client = new ApiClient();\n\nconst VideoList: React.FC = () => {\n\n    const { keyword } = useParams<KeywordParam>();\n\n    let nextPage = useRef('');\n    let videos = useRef<Array<VideoData>>([]);\n\n    const [maxPagination, setMaxPagination] = useState(ui.videos.maxPagination);\n    const [load, setLoad] = useState(true);\n    const [err, setErr] = useState('');\n\n    const handleBottomScroll = (ev: UIEvent<HTMLDivElement>) => {\n        const target = ev.target as Element;\n\n        if (target.scrollHeight - target.scrollTop === target.clientHeight && maxPagination > 1) {\n            setLoad(true);\n            setMaxPagination(maxPagination - 1);\n        }\n    }\n\n    useEffect(() => {\n        if (!err && load && maxPagination > 0) {\n            client.getSearchResults(keyword, nextPage.current)\n                .then(data => {\n                    if (data.errCode) {\n                        setErr(data.errCode);\n                        setLoad(false);\n                    } else {\n                        videos.current = videos.current.concat(data.videos);\n                        setLoad(false);\n                        nextPage.current = data.nextPageToken;\n                        if (!nextPage.current) {\n                            setMaxPagination(0);\n                        }\n                    }\n                })\n                .catch(err => console.error(err));\n        }\n    }, [maxPagination, keyword, load, err]);\n\n\n    return (\n        <Wrapper onScroll={handleBottomScroll} >\n            <Title>{`${ui.videos.result} \"${keyword}\"`}</Title>\n            {\n                videos.current.map((video: VideoData) =>\n                    <Video\n                        key={video.title}\n                        title={video.title}\n                        channelTitle={video.channelTitle}\n                        viewCount={video.viewCount}\n                        description={video.description}\n                        thumbnail={video.thumbnail}\n                        videoUrl={video.videoUrl}\n                        publishedAt={video.publishedAt}\n                    />\n                )\n            }\n            {load && <Loader />}\n            {!videos.current.length && !load && <NotFound err={err} />}\n        </Wrapper>\n    );\n};\n\nexport default VideoList;\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\nimport { SearchBox, VideoList } from './index'\n\nconst App: React.FC = () => {\n\n    return (\n         <BrowserRouter  basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route exact path=\"/results/:keyword\" component={VideoList} />\n            <Route exact path=\"/\" component={SearchBox} />\n            <Redirect to=\"/\" />\n          </Switch>\n        </BrowserRouter>       \n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}